2024-09-12 17:38:40,564 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>]
2024-09-12 17:39:57,609 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>]
2024-09-12 17:40:05,238 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>]
2024-09-12 18:02:38,722 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>]
2024-09-12 18:02:48,317 - deploy - ERROR - Unexpected error in create_container: name 'path' is not defined
Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 45, in create_container
    if not set_property(uuid, "server-port", port):
  File "/home/grant/dudebro/properties.py", line 45, in set_property
    properties = Properties()
  File "/home/grant/dudebro/properties.py", line 11, in __init__
    self.logger.debug(f"Created new Properties at path: {path}")
NameError: name 'path' is not defined
2024-09-12 18:02:48,340 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>]
2024-09-12 18:06:19,076 - properties - DEBUG - Created new Properties
2024-09-12 18:06:19,679 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-12 18:07:11,548 - properties - DEBUG - Created new Properties
2024-09-12 18:07:30,404 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-12 18:07:41,617 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-12 18:09:01,705 - __main__ - INFO - []
2024-09-12 18:09:50,073 - properties - DEBUG - Created new Properties
2024-09-12 18:09:53,579 - properties - DEBUG - Created new Properties
2024-09-12 18:13:35,266 - properties - DEBUG - Created new Properties
2024-09-12 18:13:35,654 - properties - DEBUG - Created new Properties
2024-09-12 18:14:08,360 - properties - DEBUG - Created new Properties
2024-09-12 18:14:09,856 - properties - DEBUG - Created new Properties
2024-09-12 18:14:15,384 - properties - DEBUG - Created new Properties
2024-09-12 18:14:18,897 - properties - DEBUG - Created new Properties
2024-09-12 18:14:19,360 - __main__ - INFO - []
2024-09-12 18:14:22,927 - __main__ - INFO - []
2024-09-12 18:14:31,613 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-12 18:15:46,968 - properties - DEBUG - Created new Properties
2024-09-12 18:20:37,967 - properties - DEBUG - Created new Properties
2024-09-12 18:20:38,371 - properties - DEBUG - Created new Properties
2024-09-12 18:21:03,158 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-12 18:21:16,114 - properties - DEBUG - Created new Properties
2024-09-12 18:21:28,714 - properties - DEBUG - Created new Properties
2024-09-12 18:21:43,119 - properties - DEBUG - Created new Properties
2024-09-12 18:21:43,518 - properties - DEBUG - Created new Properties
2024-09-12 18:21:45,030 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 00:37:06,466 - properties - DEBUG - Created new Properties
2024-09-13 00:37:06,876 - properties - DEBUG - Created new Properties
2024-09-13 00:37:23,003 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:00:00,884 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:01:48,177 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:02:22,213 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:03:03,960 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:03:28,638 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:03:55,416 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:04:29,301 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:04:39,600 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:08:42,577 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:12:21,630 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 01:12:38,383 - __main__ - INFO - [<Containers 1>, <Containers 2>, <Containers 3>, <Containers 4>, <Containers 5>, <Containers 6>, <Containers 7>]
2024-09-13 02:02:08,608 - properties - DEBUG - Created new Properties
2024-09-13 02:02:09,011 - properties - DEBUG - Created new Properties
2024-09-13 02:02:54,786 - properties - DEBUG - Created new Properties
2024-09-13 02:06:39,793 - properties - DEBUG - Created new Properties
2024-09-13 02:06:54,388 - properties - DEBUG - Created new Properties
2024-09-13 02:13:46,541 - properties - DEBUG - Created new Properties
2024-09-13 02:13:54,065 - properties - DEBUG - Created new Properties
2024-09-13 02:13:55,550 - properties - DEBUG - Created new Properties
2024-09-13 02:14:55,438 - properties - DEBUG - Created new Properties
2024-09-13 02:14:56,919 - properties - DEBUG - Created new Properties
2024-09-13 02:16:15,915 - properties - DEBUG - Created new Properties
2024-09-13 02:16:52,633 - properties - DEBUG - Created new Properties
2024-09-13 02:17:04,053 - properties - DEBUG - Created new Properties
2024-09-13 02:17:04,441 - properties - DEBUG - Created new Properties
2024-09-13 02:17:56,388 - properties - DEBUG - Created new Properties
2024-09-13 02:17:56,777 - properties - DEBUG - Created new Properties
2024-09-13 02:18:24,455 - properties - DEBUG - Created new Properties
2024-09-13 02:18:26,962 - properties - DEBUG - Created new Properties
2024-09-13 02:18:41,544 - properties - DEBUG - Created new Properties
2024-09-13 02:19:06,191 - properties - DEBUG - Created new Properties
2024-09-13 02:19:50,959 - properties - DEBUG - Created new Properties
2024-09-13 02:20:01,513 - properties - DEBUG - Created new Properties
2024-09-13 02:20:11,076 - properties - DEBUG - Created new Properties
2024-09-13 02:20:13,564 - properties - DEBUG - Created new Properties
2024-09-13 02:20:38,197 - properties - DEBUG - Created new Properties
2024-09-13 02:27:52,399 - properties - DEBUG - Created new Properties
2024-09-13 02:27:52,806 - properties - DEBUG - Created new Properties
2024-09-13 02:29:04,772 - properties - DEBUG - Created new Properties
2024-09-13 02:29:10,315 - properties - DEBUG - Created new Properties
2024-09-13 02:29:34,966 - properties - DEBUG - Created new Properties
2024-09-13 02:29:43,500 - properties - DEBUG - Created new Properties
2024-09-13 02:29:47,998 - properties - DEBUG - Created new Properties
2024-09-13 02:29:52,500 - properties - DEBUG - Created new Properties
2024-09-13 02:30:25,212 - properties - DEBUG - Created new Properties
2024-09-13 02:30:29,737 - properties - DEBUG - Created new Properties
2024-09-13 02:30:35,263 - properties - DEBUG - Created new Properties
2024-09-13 02:30:39,798 - properties - DEBUG - Created new Properties
2024-09-13 02:30:50,377 - properties - DEBUG - Created new Properties
2024-09-13 02:34:06,130 - properties - DEBUG - Created new Properties
2024-09-13 02:34:13,667 - properties - DEBUG - Created new Properties
2024-09-13 02:36:35,452 - properties - DEBUG - Created new Properties
2024-09-13 02:36:35,837 - properties - DEBUG - Created new Properties
2024-09-13 20:54:44,791 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:03:45,570 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:04:07,102 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:04:40,100 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:07:06,359 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:07:30,739 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:07:37,999 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:07:58,232 - __main__ - INFO - Deleting container attached to subdomain: rizzy
2024-09-13 21:11:25,316 - __main__ - INFO - Deleting container attached to subdomain: uuuu
2024-09-13 21:12:26,181 - __main__ - INFO - Deleting container attached to subdomain: aaa
2024-09-13 21:12:32,185 - deploy - ERROR - Unexpected error in create_container: 400 Client Error for http+docker://localhost/v1.46/containers/8d3f509af814b0326c65a18a251aff8af140a46b2e648e86ad0868d6fb5617a3/start: Bad Request ("failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./minecraft/start.sh": stat ./minecraft/start.sh: no such file or directory: unknown")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.46/containers/8d3f509af814b0326c65a18a251aff8af140a46b2e648e86ad0868d6fb5617a3/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 51, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.46/containers/8d3f509af814b0326c65a18a251aff8af140a46b2e648e86ad0868d6fb5617a3/start: Bad Request ("failed to create task for container: failed to create shim task: OCI runtime create failed: runc create failed: unable to start container process: exec: "./minecraft/start.sh": stat ./minecraft/start.sh: no such file or directory: unknown")
2024-09-13 21:18:05,077 - __main__ - INFO - Deleting container attached to subdomain: bbbb
2024-09-13 21:22:12,057 - __main__ - INFO - Deleting container attached to subdomain: testt
2024-09-14 03:13:23,708 - deploy - ERROR - Unexpected error in create_container: 'Response' object has no attribute 'result'
Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 66, in create_container
    self._create_srv_entry(subdomain, self.domain, self.target_fqdn, port)
  File "/home/grant/dudebro/deploy.py", line 135, in _create_srv_entry
    self.logger.debug(create_response.result.id)
AttributeError: 'Response' object has no attribute 'result'
2024-09-14 03:15:06,086 - __main__ - INFO - Deleting container attached to subdomain: granty
2024-09-14 03:15:12,350 - deploy - DEBUG - {'result': {'id': 'f067de547e5f4d6fbc1b10315fdccab0', 'zone_id': '4f4cc0443f12350a60c966f89cb7aecf', 'zone_name': 'doesnickwork.com', 'name': '_minecraft._tcp.gunbg.doesnickwork.com', 'type': 'SRV', 'content': '0 1026 mine.doesnickwork.com', 'priority': 0, 'proxiable': False, 'proxied': False, 'ttl': 1, 'data': {'port': 1026, 'priority': 0, 'target': 'mine.doesnickwork.com', 'weight': 0}, 'settings': {}, 'meta': {'auto_added': False, 'managed_by_apps': False, 'managed_by_argo_tunnel': False}, 'comment': None, 'tags': [], 'created_on': '2024-09-14T07:15:12.290787Z', 'modified_on': '2024-09-14T07:15:12.290787Z'}, 'success': True, 'errors': [], 'messages': []}
2024-09-14 03:16:15,582 - __main__ - INFO - Deleting container attached to subdomain: gunbg
2024-09-14 03:16:20,927 - deploy - DEBUG - {'result': {'id': 'd542197c520bcd253314f157027d5b69', 'zone_id': '4f4cc0443f12350a60c966f89cb7aecf', 'zone_name': 'doesnickwork.com', 'name': '_minecraft._tcp.an.doesnickwork.com', 'type': 'SRV', 'content': '0 1026 mine.doesnickwork.com', 'priority': 0, 'proxiable': False, 'proxied': False, 'ttl': 1, 'data': {'port': 1026, 'priority': 0, 'target': 'mine.doesnickwork.com', 'weight': 0}, 'settings': {}, 'meta': {'auto_added': False, 'managed_by_apps': False, 'managed_by_argo_tunnel': False}, 'comment': None, 'tags': [], 'created_on': '2024-09-14T07:16:20.873442Z', 'modified_on': '2024-09-14T07:16:20.873442Z'}, 'success': True, 'errors': [], 'messages': []}
2024-09-14 03:16:20,928 - deploy - DEBUG - d542197c520bcd253314f157027d5b69
2024-09-14 03:21:59,076 - __main__ - INFO - Deleting container attached to subdomain: an
2024-09-14 03:22:04,765 - deploy - DEBUG - {'result': {'id': '1c896421f12d764c0b2865222fad2e60', 'zone_id': '4f4cc0443f12350a60c966f89cb7aecf', 'zone_name': 'doesnickwork.com', 'name': '_minecraft._tcp.dddd.doesnickwork.com', 'type': 'SRV', 'content': '0 1026 mine.doesnickwork.com', 'priority': 0, 'proxiable': False, 'proxied': False, 'ttl': 1, 'data': {'port': 1026, 'priority': 0, 'target': 'mine.doesnickwork.com', 'weight': 0}, 'settings': {}, 'meta': {'auto_added': False, 'managed_by_apps': False, 'managed_by_argo_tunnel': False}, 'comment': None, 'tags': [], 'created_on': '2024-09-14T07:22:04.711327Z', 'modified_on': '2024-09-14T07:22:04.711327Z'}, 'success': True, 'errors': [], 'messages': []}
2024-09-14 03:22:04,766 - deploy - DEBUG - 1c896421f12d764c0b2865222fad2e60
2024-09-14 03:38:56,415 - deploy - DEBUG - Deleted successfully: d542197c520bcd253314f157027d5b69
2024-09-14 03:39:22,507 - __main__ - INFO - Deleting container attached to subdomain: dddd
2024-09-14 03:39:32,804 - deploy - DEBUG - {'result': {'id': '211a17afef4776e53b991dbca3523c8b', 'zone_id': '4f4cc0443f12350a60c966f89cb7aecf', 'zone_name': 'doesnickwork.com', 'name': '_minecraft._tcp.crazy.doesnickwork.com', 'type': 'SRV', 'content': '0 1026 mine.doesnickwork.com', 'priority': 0, 'proxiable': False, 'proxied': False, 'ttl': 1, 'data': {'port': 1026, 'priority': 0, 'target': 'mine.doesnickwork.com', 'weight': 0}, 'settings': {}, 'meta': {'auto_added': False, 'managed_by_apps': False, 'managed_by_argo_tunnel': False}, 'comment': None, 'tags': [], 'created_on': '2024-09-14T07:39:32.661583Z', 'modified_on': '2024-09-14T07:39:32.661583Z'}, 'success': True, 'errors': [], 'messages': []}
2024-09-14 03:39:32,804 - deploy - DEBUG - 211a17afef4776e53b991dbca3523c8b
2024-09-14 03:39:42,144 - deploy - DEBUG - Deleted successfully: 211a17afef4776e53b991dbca3523c8b
2024-09-14 03:56:27,307 - deploy - DEBUG - Using port: 1025
2024-09-14 03:56:27,411 - deploy - ERROR - Unexpected error in create_container: 500 Server Error for http+docker://localhost/v1.46/containers/ad9220692ef65e6c27e2efe7ba71cdd53696e0ae87b5b64999ae52033e9aec51/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_gunt-d38bf42b-2268-492f-bd28-60226781a6c7 (4f16b959bd0d070566f073b05890fd5aa78ed2c2a352431e25dc429859133681): Bind for 0.0.0.0:1026 failed: port is already allocated")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.46/containers/ad9220692ef65e6c27e2efe7ba71cdd53696e0ae87b5b64999ae52033e9aec51/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 74, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.46/containers/ad9220692ef65e6c27e2efe7ba71cdd53696e0ae87b5b64999ae52033e9aec51/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_gunt-d38bf42b-2268-492f-bd28-60226781a6c7 (4f16b959bd0d070566f073b05890fd5aa78ed2c2a352431e25dc429859133681): Bind for 0.0.0.0:1026 failed: port is already allocated")
2024-09-14 03:57:16,631 - deploy - DEBUG - Using port: 1025
2024-09-14 03:57:21,755 - __main__ - INFO - Deleting container attached to subdomain: gunt
2024-09-14 03:57:48,361 - __main__ - INFO - Deleting container attached to subdomain: gunt
2024-09-14 03:57:59,286 - __main__ - INFO - Deleting container attached to subdomain: gunt
2024-09-14 03:58:16,935 - __main__ - INFO - Deleting container attached to subdomain: gunt
2024-09-14 03:59:50,571 - deploy - DEBUG - Using port: 1025
2024-09-14 03:59:53,899 - __main__ - INFO - Deleting container attached to subdomain: goopus
2024-09-14 03:59:54,279 - deploy - DEBUG - Deleted successfully: cb7cdbb0de1cdc44bcb53df0eb6ce57f
2024-09-14 04:04:14,706 - deploy - DEBUG - Using port: 1025
2024-09-14 04:04:18,001 - __main__ - INFO - Deleting container attached to subdomain: gubbus
2024-09-14 04:04:18,381 - deploy - DEBUG - Deleted successfully: c984c71ba7770883cd90f658bd154d41
2024-09-14 04:04:30,356 - deploy - DEBUG - Using port: 1025
2024-09-14 04:07:54,124 - __main__ - INFO - Deleting container attached to subdomain: ggg
2024-09-14 04:07:54,643 - deploy - DEBUG - Deleted successfully: 68712a14fe7913bcc28f7537751c8dbe
2024-09-14 04:08:44,913 - deploy - DEBUG - Using port: 1025
2024-09-14 04:08:44,918 - deploy - ERROR - Unexpected error in create_container: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_goobus-49c045b3-c81c-4cd2-a0ee-dee17c17f989: Bad Request ("no command specified")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.46/containers/create?name=dude_goobus-49c045b3-c81c-4cd2-a0ee-dee17c17f989

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 74, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_goobus-49c045b3-c81c-4cd2-a0ee-dee17c17f989: Bad Request ("no command specified")
2024-09-14 04:09:03,473 - deploy - DEBUG - Using port: 1025
2024-09-14 04:09:03,479 - deploy - ERROR - Unexpected error in create_container: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_gello-fe52934d-8a95-4b6f-8b54-f20e5fb30834: Bad Request ("no command specified")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.46/containers/create?name=dude_gello-fe52934d-8a95-4b6f-8b54-f20e5fb30834

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 74, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_gello-fe52934d-8a95-4b6f-8b54-f20e5fb30834: Bad Request ("no command specified")
2024-09-14 04:09:16,301 - deploy - DEBUG - Using port: 1025
2024-09-14 04:15:50,510 - __main__ - INFO - Deleting container attached to subdomain: gggg
2024-09-14 04:15:50,859 - deploy - DEBUG - Deleted successfully: 07091d9f8fb697ab589bd7f9b2b72b4a
2024-09-14 11:13:32,607 - deploy - DEBUG - Using port: 1025
2024-09-14 11:23:20,986 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5253c34c40>
2024-09-14 11:23:21,947 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52525848e0>
2024-09-14 11:23:24,811 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f525364a4f0>
2024-09-14 11:23:27,814 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5252550610>
2024-09-14 11:23:30,836 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52525ccbb0>
2024-09-14 11:23:33,871 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52525345b0>
2024-09-14 11:23:36,881 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5252534d00>
2024-09-14 11:23:39,895 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52525345b0>
2024-09-14 11:23:42,880 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f525364a7c0>
2024-09-14 11:23:45,888 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5252534b50>
2024-09-14 11:23:48,881 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5252584d90>
2024-09-14 11:23:51,890 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5253635d30>
2024-09-14 11:23:54,892 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52524dbe20>
2024-09-14 11:23:57,897 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52524db1c0>
2024-09-14 11:24:00,900 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f52524dba00>
2024-09-14 11:24:03,901 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f525258bd60>
2024-09-14 11:24:06,898 - __main__ - DEBUG - <docker.types.daemon.CancellableStream object at 0x7f5252584ee0>
2024-09-14 21:22:12,520 - __main__ - INFO - Deleting container attached to subdomain: imma
2024-09-14 21:22:13,018 - deploy - DEBUG - Deleted successfully: 2c9ffd0848a583d2a198cb68148bf751
2024-09-14 21:22:31,033 - deploy - DEBUG - Using port: 1025
2024-09-14 21:22:41,461 - __main__ - INFO - Deleting container attached to subdomain: scrimbus
2024-09-14 21:22:42,141 - deploy - DEBUG - Deleted successfully: 673b26819e92c90d3712763b6c0c8a5b
2024-09-15 03:29:04,342 - deploy - DEBUG - Using port: 1025
2024-09-15 03:40:22,231 - __main__ - INFO - Sending command: /say Hello
2024-09-15 03:40:25,322 - __main__ - INFO - Sending command: /say Hello
2024-09-15 03:40:51,045 - __main__ - INFO - Sending command: /say Hello
2024-09-15 03:44:20,435 - __main__ - INFO - Deleting container attached to subdomain: gooptown
2024-09-15 03:44:20,933 - deploy - DEBUG - Deleted successfully: c2a4e7573f00701716d291ad57d0ad0c
2024-09-15 03:44:31,282 - deploy - DEBUG - Using port: 1025
2024-09-15 03:44:41,624 - __main__ - INFO - Sending command: /say way
2024-09-15 03:45:06,694 - __main__ - INFO - Sending command: /stop
2024-09-15 03:50:44,303 - __main__ - INFO - Sending command: /stop
2024-09-15 03:50:57,283 - __main__ - INFO - Sending command: /stop
2024-09-15 13:06:53,124 - app - INFO - Sending command: /say Hello
2024-09-15 13:06:53,130 - app - ERROR - Exception on /commandimmaskib [POST]
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
  File "/home/grant/dudebro/app.py", line 193, in command
    rcon.command(command=command, port=1026, ip=deploy.get_container_ip(deploy._get_container(subdomain=subdomain)))
  File "/home/grant/dudebro/rcon.py", line 16, in command
    with MCRcon(ip, rcon_pass, port=port) as mcr:
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/mcrcon.py", line 54, in __init__
    signal.signal(signal.SIGALRM, timeout_handler)
  File "/usr/lib64/python3.9/signal.py", line 56, in signal
    handler = _signal.signal(_enum_to_int(signalnum), _enum_to_int(handler))
ValueError: signal only works in main thread of the main interpreter
2024-09-15 13:11:19,795 - __main__ - INFO - Sending command: /say Hello
2024-09-15 13:12:52,608 - __main__ - INFO - Sending command: /say hello
2024-09-15 13:20:34,057 - __main__ - INFO - Sending command: /say Hello
2024-09-15 13:33:01,855 - __main__ - INFO - Deleting container attached to subdomain: immaskib
2024-09-15 13:33:02,506 - deploy - DEBUG - Deleted successfully: 34667ec9982e1e6d3d5c93ee326cd07f
2024-09-15 13:33:08,804 - deploy - DEBUG - Using port: 1025
2024-09-15 13:33:08,811 - deploy - ERROR - Unexpected error in create_container: 'list' object has no attribute 'items'
Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 87, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 934, in create
    create_kwargs = _create_container_args(kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 1164, in _create_container_args
    create_kwargs['host_config'] = HostConfig(**host_config_kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/types/containers.py", line 404, in __init__
    self['PortBindings'] = convert_port_bindings(port_bindings)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/utils.py", line 115, in convert_port_bindings
    for k, v in iter(port_bindings.items()):
AttributeError: 'list' object has no attribute 'items'
2024-09-15 13:34:34,079 - deploy - DEBUG - Using port: 1025
2024-09-15 13:34:34,193 - deploy - ERROR - Unexpected error in create_container: 500 Server Error for http+docker://localhost/v1.46/containers/4aedcf1563064a8b06bcd9543146d6b7640a8cd6d34b815886d58aec316fdce0/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_huh-8a9c34de-95e3-4f59-a8eb-4ee962a3aeb6 (efc3998e91f796d744424462963cca0704edbe6bae12162b89ab26f008a1eccf): Bind for 0.0.0.0:25575 failed: port is already allocated")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.46/containers/4aedcf1563064a8b06bcd9543146d6b7640a8cd6d34b815886d58aec316fdce0/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 87, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.46/containers/4aedcf1563064a8b06bcd9543146d6b7640a8cd6d34b815886d58aec316fdce0/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_huh-8a9c34de-95e3-4f59-a8eb-4ee962a3aeb6 (efc3998e91f796d744424462963cca0704edbe6bae12162b89ab26f008a1eccf): Bind for 0.0.0.0:25575 failed: port is already allocated")
2024-09-15 13:34:59,414 - deploy - DEBUG - Using port: 1025
2024-09-15 13:37:11,665 - deploy - DEBUG - Using port: 1026
2024-09-15 13:38:00,778 - __main__ - INFO - Sending command: /say Hello
2024-09-15 13:39:18,270 - __main__ - INFO - Sending command: /say Hello
2024-09-15 13:40:41,820 - __main__ - INFO - Sending command: /stop
2024-09-15 13:41:11,411 - __main__ - INFO - Sending command: /op Granther21
2024-09-15 14:03:45,645 - __main__ - INFO - Sent command: /op Granther21, got response: Nothing changed. The player already is an operator
2024-09-15 15:13:50,676 - __main__ - INFO - Sent command: hello, got response: Unknown or incomplete command, see below for errorhello<--[HERE]
2024-09-15 15:13:53,084 - __main__ - INFO - Sent command: hello, got response: Unknown or incomplete command, see below for errorhello<--[HERE]
2024-09-15 15:18:25,785 - __main__ - DEBUG - rrrr
2024-09-15 15:19:02,726 - __main__ - DEBUG - rrrr
2024-09-15 15:19:42,443 - __main__ - DEBUG - ffff
2024-09-15 15:20:10,094 - __main__ - DEBUG - ddd
2024-09-15 15:21:13,423 - __main__ - DEBUG - dd
2024-09-15 15:24:22,443 - __main__ - DEBUG - fff
2024-09-15 15:26:04,100 - __main__ - DEBUG - f
2024-09-15 15:26:27,261 - __main__ - DEBUG - fff
2024-09-15 15:26:29,753 - __main__ - DEBUG - fff
2024-09-15 15:26:30,979 - __main__ - DEBUG - fff
2024-09-15 15:26:31,568 - __main__ - DEBUG - fff
2024-09-15 15:26:50,413 - __main__ - DEBUG - ddd
2024-09-15 15:26:50,869 - __main__ - DEBUG - ddd
2024-09-15 15:26:51,045 - __main__ - DEBUG - ddd
2024-09-15 15:26:51,245 - __main__ - DEBUG - ddd
2024-09-15 15:27:24,550 - __main__ - DEBUG - ww
2024-09-15 15:27:25,176 - __main__ - DEBUG - ww
2024-09-15 15:27:25,461 - __main__ - DEBUG - ww
2024-09-15 15:29:02,850 - __main__ - DEBUG - ww
2024-09-15 15:29:03,343 - __main__ - DEBUG - ww
2024-09-15 15:29:03,549 - __main__ - DEBUG - ww
2024-09-15 15:29:03,720 - __main__ - DEBUG - ww
2024-09-15 15:29:04,585 - __main__ - DEBUG - ww
2024-09-15 15:29:04,741 - __main__ - DEBUG - ww
2024-09-15 15:29:23,828 - __main__ - DEBUG - ww
2024-09-15 15:29:24,556 - __main__ - DEBUG - ww
2024-09-15 15:29:51,653 - __main__ - DEBUG - ww
2024-09-15 15:30:46,232 - __main__ - DEBUG - ww
2024-09-15 15:30:46,812 - __main__ - DEBUG - ww
2024-09-15 15:30:46,993 - __main__ - DEBUG - ww
2024-09-15 15:30:47,191 - __main__ - DEBUG - ww
2024-09-15 15:30:47,908 - __main__ - DEBUG - ww
2024-09-15 15:30:48,074 - __main__ - DEBUG - ww
2024-09-15 15:31:21,651 - __main__ - DEBUG - ww
2024-09-15 15:31:22,333 - __main__ - DEBUG - ww
2024-09-15 15:31:22,516 - __main__ - DEBUG - ww
2024-09-15 15:31:22,691 - __main__ - DEBUG - ww
2024-09-15 15:32:39,700 - __main__ - DEBUG - ww
2024-09-15 15:32:40,263 - __main__ - DEBUG - ww
2024-09-15 15:32:40,499 - __main__ - DEBUG - ww
2024-09-15 15:33:39,968 - __main__ - DEBUG - ww
2024-09-15 15:44:01,927 - __main__ - DEBUG - ww
2024-09-15 15:44:12,959 - __main__ - DEBUG - ww
2024-09-15 15:44:14,768 - __main__ - DEBUG - ww
2024-09-15 15:44:33,560 - __main__ - DEBUG - ww
2024-09-15 15:44:35,596 - __main__ - DEBUG - ww
2024-09-15 15:45:57,370 - __main__ - DEBUG - ww
2024-09-15 15:45:59,343 - __main__ - DEBUG - ww
2024-09-15 15:46:01,210 - __main__ - DEBUG - ww
2024-09-15 15:46:01,619 - __main__ - DEBUG - ww
2024-09-15 15:46:02,020 - __main__ - DEBUG - ww
2024-09-15 15:46:22,630 - __main__ - DEBUG - ww
2024-09-15 15:46:23,923 - __main__ - DEBUG - ww
2024-09-15 15:46:25,204 - __main__ - DEBUG - ww
2024-09-15 15:49:50,194 - __main__ - DEBUG - ww
2024-09-15 15:54:37,785 - __main__ - INFO - Sent command: op form.command.data, got response: That player does not exist
2024-09-15 15:54:42,312 - __main__ - INFO - Sent command: op form.command.data, got response: That player does not exist
2024-09-15 15:55:21,147 - __main__ - INFO - Sent command: op Granther21, got response: Nothing changed. The player already is an operator
2024-09-15 15:55:32,582 - __main__ - INFO - Sent command: ban Granther21, got response: Banned Granther21: Banned by an operator.
2024-09-15 15:55:45,040 - __main__ - INFO - Sent command:  /stop, got response: Unknown or incomplete command, see below for error /stop<--[HERE]
2024-09-15 15:55:54,275 - __main__ - INFO - Sent command:  stop, got response: Unknown or incomplete command, see below for error stop<--[HERE]
2024-09-15 16:50:14,672 - __main__ - INFO - Sent command:  dibg, got response: Unknown or incomplete command, see below for error dibg<--[HERE]
2024-09-15 16:50:57,264 - __main__ - INFO - Sent command:  d, got response: Unknown or incomplete command, see below for error d<--[HERE]
2024-09-15 16:52:16,125 - __main__ - INFO - Sent command:  dd, got response: Unknown or incomplete command, see below for error dd<--[HERE]
2024-09-15 16:52:31,015 - __main__ - INFO - Sent command:  d, got response: Unknown or incomplete command, see below for error d<--[HERE]
2024-09-15 16:52:36,475 - __main__ - INFO - Sent command:  d, got response: Unknown or incomplete command, see below for error d<--[HERE]
2024-09-15 16:55:45,098 - __main__ - INFO - Sent command:  dd, got response: Unknown or incomplete command, see below for error dd<--[HERE]
2024-09-15 16:55:58,226 - __main__ - INFO - Sent command:  ddd, got response: Unknown or incomplete command, see below for error ddd<--[HERE]
2024-09-15 16:56:10,725 - __main__ - INFO - Sent command:  ddd, got response: Unknown or incomplete command, see below for error ddd<--[HERE]
2024-09-15 16:56:54,943 - __main__ - INFO - Sent command: ban Granther21, got response: Nothing changed. The player is already banned
2024-09-15 16:57:00,535 - __main__ - INFO - Sent command: op Granther21, got response: Nothing changed. The player already is an operator
2024-09-15 16:58:34,482 - __main__ - INFO - Sent command: ban Granther21, got response: Nothing changed. The player is already banned
2024-09-15 18:47:39,891 - __main__ - INFO - Sent command: ban Granther21, got response: Nothing changed. The player is already banned
2024-09-15 18:49:11,412 - __main__ - INFO - Sent command:  ww, got response: Unknown or incomplete command, see below for error ww<--[HERE]
2024-09-15 20:26:22,828 - __main__ - DEBUG - ban
2024-09-15 21:18:34,491 - deploy - DEBUG - Using port: 1027
2024-09-15 21:18:34,854 - deploy - ERROR - Unexpected error in create_container: 500 Server Error for http+docker://localhost/v1.46/containers/d4505b8963151522dc2d2addc75b8e2b04d92ba547b9160243f2eb0063a5efd9/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_rizzum-be905dfc-4911-4539-bc84-c846e97d15eb (ce15d919f24c10590e41f03cf1b5dace6cfbf70cbc86e5fafb01978ed158f099): Bind for 0.0.0.0:42069 failed: port is already allocated")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.46/containers/d4505b8963151522dc2d2addc75b8e2b04d92ba547b9160243f2eb0063a5efd9/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 87, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.46/containers/d4505b8963151522dc2d2addc75b8e2b04d92ba547b9160243f2eb0063a5efd9/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_rizzum-be905dfc-4911-4539-bc84-c846e97d15eb (ce15d919f24c10590e41f03cf1b5dace6cfbf70cbc86e5fafb01978ed158f099): Bind for 0.0.0.0:42069 failed: port is already allocated")
2024-09-15 21:46:16,494 - deploy - DEBUG - None
2024-09-15 21:46:16,494 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-15 21:46:16,503 - deploy - ERROR - Unexpected error in create_container: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_uhuh-ad1eef02-5586-405d-af63-709866387bdf: Bad Request ("invalid JSON: json: cannot unmarshal number into Go struct field PortBinding.HostConfig.PortBindings.HostIp of type string")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 400 Client Error: Bad Request for url: http+docker://localhost/v1.46/containers/create?name=dude_uhuh-ad1eef02-5586-405d-af63-709866387bdf

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 87, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 876, in run
    container = self.create(image=image, command=command,
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 935, in create
    resp = self.client.api.create_container(**create_kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 440, in create_container
    return self.create_container_from_config(config, name, platform)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 457, in create_container_from_config
    return self._result(res, True)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 281, in _result
    self._raise_for_status(response)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 400 Client Error for http+docker://localhost/v1.46/containers/create?name=dude_uhuh-ad1eef02-5586-405d-af63-709866387bdf: Bad Request ("invalid JSON: json: cannot unmarshal number into Go struct field PortBinding.HostConfig.PortBindings.HostIp of type string")
2024-09-15 21:50:52,984 - deploy - DEBUG - None
2024-09-15 21:50:52,984 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-15 21:50:53,660 - deploy - ERROR - Unexpected error in create_container: (sqlite3.IntegrityError) NOT NULL constraint failed: containers.rcon_port
[SQL: INSERT INTO containers (uuid, subdomain, srv_id, domain, port, rcon_port, priority, weight, name, type, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('2531117b-6dc3-4647-a90d-b86e070752b9', 'whothe', '06e05f72e7de5872a92666c3768619c3', 'doesnickwork.com', 1026, None, 0, 0, 'dude_whothe-2531117b-6dc3-4647-a90d-b86e070752b9', None, 1)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: NOT NULL constraint failed: containers.rcon_port

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 106, in create_container
    self.db.session.commit()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/scoping.py", line 597, in commit
    return self._proxied.commit()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    transaction.rollback(_capture_exception=True)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) NOT NULL constraint failed: containers.rcon_port
[SQL: INSERT INTO containers (uuid, subdomain, srv_id, domain, port, rcon_port, priority, weight, name, type, user_id) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)]
[parameters: ('2531117b-6dc3-4647-a90d-b86e070752b9', 'whothe', '06e05f72e7de5872a92666c3768619c3', 'doesnickwork.com', 1026, None, 0, 0, 'dude_whothe-2531117b-6dc3-4647-a90d-b86e070752b9', None, 1)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2024-09-15 21:51:32,340 - deploy - DEBUG - None
2024-09-15 21:51:32,340 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-15 21:51:32,615 - deploy - ERROR - Unexpected error in create_container: 500 Server Error for http+docker://localhost/v1.46/containers/b5fbec3dc6916d0a12cac5109b8d8388987816f4a63330553f4accb49df0070e/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_gggg-1ee14a14-c277-492c-930f-c282b69daaa4 (da9f8427edfc19b61a693e7f866d3da249e34422a37b1cbea5933845b775c42c): Bind for 0.0.0.0:1026 failed: port is already allocated")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.46/containers/b5fbec3dc6916d0a12cac5109b8d8388987816f4a63330553f4accb49df0070e/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 86, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.46/containers/b5fbec3dc6916d0a12cac5109b8d8388987816f4a63330553f4accb49df0070e/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_gggg-1ee14a14-c277-492c-930f-c282b69daaa4 (da9f8427edfc19b61a693e7f866d3da249e34422a37b1cbea5933845b775c42c): Bind for 0.0.0.0:1026 failed: port is already allocated")
2024-09-15 21:51:57,106 - deploy - DEBUG - None
2024-09-15 21:51:57,106 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-15 21:52:08,377 - __main__ - DEBUG - ban
2024-09-15 21:58:10,766 - __main__ - INFO - Sent command: ban Granther21, got response: That player does not exist
2024-09-15 21:58:10,766 - __main__ - DEBUG - ban
2024-09-15 21:58:59,051 - __main__ - INFO - Sent command: ban Granther21, got response: That player does not exist
2024-09-15 21:58:59,052 - __main__ - DEBUG - ban
2024-09-15 21:59:13,283 - __main__ - INFO - Sent command: op Granther21, got response: That player does not exist
2024-09-15 21:59:13,284 - __main__ - DEBUG - op
2024-09-16 00:31:20,562 - __main__ - INFO - Sent command: ban ggoop, got response: That player does not exist
2024-09-16 00:31:20,563 - __main__ - DEBUG - ban
2024-09-16 00:31:46,752 - __main__ - INFO - Sent command: ban Granther, got response: That player does not exist
2024-09-16 00:31:46,753 - __main__ - DEBUG - ban
2024-09-16 00:31:56,827 - __main__ - INFO - Sent command: op Granther, got response: That player does not exist
2024-09-16 00:31:56,827 - __main__ - DEBUG - op
2024-09-16 00:35:20,486 - __main__ - INFO - Sent command: op Granther21, got response: Made Granther21 a server operator
2024-09-16 00:35:20,487 - __main__ - DEBUG - op
2024-09-16 00:35:29,387 - __main__ - INFO - Deleting container attached to subdomain: rumbus
2024-09-16 00:35:29,971 - deploy - DEBUG - Deleted successfully: 0a61d8f11c084fa06f68a6ed554c2cc8
2024-09-16 00:36:57,403 - deploy - DEBUG - None
2024-09-16 00:36:57,404 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 00:43:00,082 - __main__ - INFO - Sent command: op Granther21, got response: Made Granther21 a server operator
2024-09-16 00:43:00,083 - __main__ - DEBUG - op
2024-09-16 01:33:33,474 - deploy - DEBUG - (1026, 1027)
2024-09-16 01:33:33,475 - deploy - ERROR - Unexpected error in create_container: rcon
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'rcon'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 77, in create_container
    port, rcon_port = self._get_port()
  File "/home/grant/dudebro/deploy.py", line 142, in _get_port
    rcon_port = ports.rcon
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: rcon
2024-09-16 01:36:11,940 - deploy - DEBUG - None
2024-09-16 01:36:11,940 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 01:36:12,044 - deploy - ERROR - Unexpected error in create_container: 500 Server Error for http+docker://localhost/v1.46/containers/6e9a2c49053c2329becb4812447bd249734cd02ee92a01c5e1a0e3f40b813f19/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_oll-a6568579-4b4d-48c8-8d68-71fdf0980bde (fa1e5472c56cb54360d28b1a0932c8dafe6671fa86c24ceff2979319ef3d5717): Bind for 0.0.0.0:1026 failed: port is already allocated")
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 275, in _raise_for_status
    response.raise_for_status()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/requests/models.py", line 1024, in raise_for_status
    raise HTTPError(http_error_msg, response=self)
requests.exceptions.HTTPError: 500 Server Error: Internal Server Error for url: http+docker://localhost/v1.46/containers/6e9a2c49053c2329becb4812447bd249734cd02ee92a01c5e1a0e3f40b813f19/start

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 86, in create_container
    container = self.client.containers.run(
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 883, in run
    container.start()
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/models/containers.py", line 420, in start
    return self.client.api.start(self.id, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/utils/decorators.py", line 19, in wrapped
    return f(self, resource_id, *args, **kwargs)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/container.py", line 1136, in start
    self._raise_for_status(res)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/api/client.py", line 277, in _raise_for_status
    raise create_api_error_from_http_exception(e) from e
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/docker/errors.py", line 39, in create_api_error_from_http_exception
    raise cls(e, response=response, explanation=explanation) from e
docker.errors.APIError: 500 Server Error for http+docker://localhost/v1.46/containers/6e9a2c49053c2329becb4812447bd249734cd02ee92a01c5e1a0e3f40b813f19/start: Internal Server Error ("driver failed programming external connectivity on endpoint dude_oll-a6568579-4b4d-48c8-8d68-71fdf0980bde (fa1e5472c56cb54360d28b1a0932c8dafe6671fa86c24ceff2979319ef3d5717): Bind for 0.0.0.0:1026 failed: port is already allocated")
2024-09-16 01:37:40,336 - deploy - DEBUG - None
2024-09-16 01:37:40,336 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 03:01:58,133 - __main__ - INFO - Deleting container attached to subdomain: uuuu
2024-09-16 03:05:18,832 - deploy - DEBUG - (1026, 1027)
2024-09-16 03:05:18,832 - deploy - ERROR - Unexpected error in create_container: rcon
Traceback (most recent call last):
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'rcon'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/grant/dudebro/deploy.py", line 77, in create_container
    port, rcon_port = self._get_port()
  File "/home/grant/dudebro/deploy.py", line 142, in _get_port
    rcon_port = ports.rcon
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/home/grant/dudebro/.venv/lib64/python3.9/site-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: rcon
2024-09-16 03:07:24,828 - deploy - DEBUG - None
2024-09-16 03:07:24,828 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 03:34:09,757 - __main__ - INFO - Deleting container attached to subdomain: goopi
2024-09-16 03:34:10,316 - deploy - DEBUG - Deleted successfully: 9b721f679a72a90e6a06b3223ca67090
2024-09-16 03:41:45,511 - deploy - DEBUG - None
2024-09-16 03:41:45,511 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 04:13:36,195 - __main__ - INFO - Deleting container attached to subdomain: iieieie
2024-09-16 04:13:36,756 - deploy - DEBUG - Deleted successfully: 3938a4574bd4fd4452f7bcfb760ae3ab
2024-09-16 04:13:51,209 - deploy - DEBUG - None
2024-09-16 04:13:51,210 - deploy - DEBUG - Using port: 1025, Rcon port: 1026
2024-09-16 04:17:45,218 - __main__ - INFO - Sent command: whitelist add Granther21, got response: That player does not exist
2024-09-16 04:17:45,218 - __main__ - DEBUG - whitelist add
